{
    "componentChunkName": "component---src-templates-htg-template-tsx",
    "path": "/how-to-guides/v3/tools/sidecar/",
    "result": {"data":{"mdx":{"frontmatter":{"slug":"/how-to-guides/v3/tools/sidecar","title":"Track Parachain auction winners using Sidecar","hideNav":null,"difficulty":null,"section":"how to guides","category":"tools"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Track Parachain auction winners using Sidecar\",\n  \"slug\": \"/how-to-guides/v3/tools/sidecar\",\n  \"keywords\": \"node, client, tooling\",\n  \"version\": 3,\n  \"section\": \"how to guides\",\n  \"category\": \"tools\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Objectives = makeShortcode(\"Objectives\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(Objectives, {\n    data: [{\n      title: 'Goal',\n      description: \"Find the winner of a completed parachain auction using `sidecar`.\"\n    }, {\n      title: 'Use Cases',\n      description: \"Interact with a Substrate blockchain node using a REST service.\"\n    }, {\n      title: 'Overview',\n      description: \"To find the winner of a completed auction we will need to know the block \\n      number the auction ended at. Since [Sidecar](https://github.com/paritytech/substrate-api-sidecar) \\n      is a stateless API and the auction info is stored at the final block of an auction, once the \\n      auction is over we need the block number to make historic queries to retrieve the event and data \\n      stored in it.\"\n    }],\n    mdxType: \"Objectives\"\n  }), mdx(\"h2\", {\n    \"id\": \"steps\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#steps\",\n    \"aria-label\": \"steps permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Steps\"), mdx(\"h3\", {\n    \"id\": \"1-leverage-the-experimentalparasauctionscurrent-endpoint\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#1-leverage-the-experimentalparasauctionscurrent-endpoint\",\n    \"aria-label\": \"1 leverage the experimentalparasauctionscurrent endpoint permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"1. Leverage the \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"/experimental/paras/auctions/current\"), \" endpoint\"), mdx(\"p\", null, \"We will track and store \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"finishEnd\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"auctionIndex\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"leasePeriods\"), \" in a Database:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"finishEnd\"), \": This is the last block of the auction. Storing it allows you to query the block at which the auction ended. From that block you can extract the\\nlease winning related events. (To query the block: GET /blocks/{finishEnd}.)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"auctionIndex\"), \": The unique identifier for the auction.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"leasePeriods\"), \": The available lease period indexes that may be bid on for the specific auctionIndex.\"))), mdx(\"h3\", {\n    \"id\": \"2-using-sidecar-to-find-the-auction-winners\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#2-using-sidecar-to-find-the-auction-winners\",\n    \"aria-label\": \"2 using sidecar to find the auction winners permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"2. Using Sidecar to find the auction winners\"), mdx(\"p\", null, \"By storing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"finishEnd\"), \" block and looking at the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Leased\"), \" events within it, we can see who the auction winners are and what lease periods they were rewarded.\"), mdx(\"p\", null, \"Format the data however is necessary, for example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"auctionIndex: {\\n    leasePeriods: [\\n        \\\"11\\\", \\\"12\\\", \\\"13\\\", \\\"14\\\"\\n    ],\\n    finishEnd: '200'\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"3-query-the-blocksblockid-endpoint\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#3-query-the-blocksblockid-endpoint\",\n    \"aria-label\": \"3 query the blocksblockid endpoint permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"3. Query the \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"/blocks/:blockId\"), \" endpoint\"), mdx(\"p\", null, \"This step queries all blocks at the block height specified in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"finishEnd\"), \" field and retrieves all events inside of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"on_initialize\"), \". An example response would be:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"{\\n    authorId: ....,\\n    extrinsics:....\\n    ...\\n    on_initialize: {\\n        events: [\\n            {\\n                \\\"method\\\": {\\n                    \\\"pallet\\\": \\\"slots\\\",\\n                    \\\"method\\\": \\\"Leased\\\"\\n                },\\n                \\\"data\\\": [\\n                    '1000', // ParaId\\n                    '5HpG9w8EBLe5XCrbczpwq5TSXvedjrBGCwqxK1iQ7qUsSWFc', // AccountId\\n                    '1', // LeasePeriod (begining of the lease period)\\n                    '4', // LeasePeriod (the count of the lease period)\\n                    '10000', // Balance (extra balance reserved)\\n                    '1000000000', // Balance (total balance) \\n                ]\\n            },\\n            {\\n                \\\"method\\\": {\\n                    \\\"pallet\\\": \\\"auctions\\\",\\n                    \\\"method\\\": \\\"AuctionClosed\\\"\\n                },\\n                \\\"data\\\": [\\n                    ...\\n                ]\\n            }\\n        ]\\n    }\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"4-compare-your-data\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#4-compare-your-data\",\n    \"aria-label\": \"4 compare your data permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"4. Compare your data\"), mdx(\"p\", null, \"Now that you have all the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paraIds\"), \" that won slots for that auction, you can compare it with the data relevant to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"auctionIndex\"), \".\\nComparing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"leasePeriods\"), \" that are available during the active auction to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"leasePeriods\"), \" that have been won and denoted in the\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Leased\"), \" events (there may be multiple if there are multiple winners) will give you all the winners for that auction.\"), mdx(\"h2\", {\n    \"id\": \"examples\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#examples\",\n    \"aria-label\": \"examples permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Examples\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"More guides \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/paritytech/substrate-api-sidecar/tree/master/guides\"\n  }, \"here\"))), mdx(\"h2\", {\n    \"id\": \"resources\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#resources\",\n    \"aria-label\": \"resources permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Resources\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/paritytech/substrate-api-sidecar\"\n  }, \"Sidecar documentation\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Available \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://paritytech.github.io/substrate-api-sidecar/dist/\"\n  }, \"Substrate Sidecar API endpoints\"))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#steps","title":"Steps","items":[{"url":"#1-leverage-the-experimentalparasauctionscurrent-endpoint","title":"1. Leverage the /experimental/paras/auctions/current endpoint"},{"url":"#2-using-sidecar-to-find-the-auction-winners","title":"2. Using Sidecar to find the auction winners"},{"url":"#3-query-the-blocksblockid-endpoint","title":"3. Query the /blocks/:blockId endpoint"},{"url":"#4-compare-your-data","title":"4. Compare your data"}]},{"url":"#examples","title":"Examples"},{"url":"#resources","title":"Resources"}]},"fileAbsolutePath":"/Users/a212/Desktop/substrate-docs/v3/how-to-guides/08-tools/c-sidecar/index.mdx"}},"pageContext":{"slug":"/how-to-guides/v3/tools/sidecar","version":"3.0","locale":"en","hrefLang":"en-US","originalPath":"/how-to-guides/v3/tools/sidecar/","dateFormat":"MM/DD/YYYY"}},
    "staticQueryHashes": ["1239077767","1821483254","2966362950","3280999885"]}