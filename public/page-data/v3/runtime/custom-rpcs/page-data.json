{
    "componentChunkName": "component---src-templates-kb-template-tsx",
    "path": "/v3/runtime/custom-rpcs/",
    "result": {"data":{"mdx":{"frontmatter":{"slug":"/v3/runtime/custom-rpcs","title":"RPCs","hideNav":null,"section":"docs","category":"runtime"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"RPCs\",\n  \"slug\": \"/v3/runtime/custom-rpcs\",\n  \"version\": 3,\n  \"section\": \"docs\",\n  \"category\": \"runtime\",\n  \"keywords\": \"rpc, frontend\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Message = makeShortcode(\"Message\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Remote Procedure Calls, or RPCs, are a way for an external program\\n(eg. a frontend) to communicate with a Substrate node. They are used\\nfor checking storage values, submitting transactions, and querying the\\ncurrent consensus authorities. Substrate comes with several \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://polkadot.js.org/docs/substrate/rpc/\"\n  }, \"default RPCs\"), \".\\nIn many cases it is useful to add custom RPCs to your node. \"), mdx(\"h2\", {\n    \"id\": \"the-rpc-extensions-builder\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#the-rpc-extensions-builder\",\n    \"aria-label\": \"the rpc extensions builder permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"The RPC extensions builder\"), mdx(\"p\", null, \"In order to connect custom RPCs you must provide a function known as an \\\"RPC extension builder\\\".\\nThis function takes a parameter for whether the node should deny unsafe RPC calls, and returns\\nan \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/rustdocs/latest/node_rpc/type.IoHandler.html\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"IoHandler\")), \" that the node needs to create a\\nJSON RPC. For more context, read more by looking at the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/rustdocs/latest/sc_service/trait.RpcExtensionBuilder.html\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"RpcExtensionBuilder\"), \" trait API\"), \"\\ndocumentation.\"), mdx(\"h2\", {\n    \"id\": \"rpc-types\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#rpc-types\",\n    \"aria-label\": \"rpc types permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"RPC types\"), mdx(\"p\", null, \"RPCs can be interfaces to a node's consensus mechanisms, or interfaces with any outside user to\\nsubmit transactions to the blockchain. In all cases, it's important to consider what endpoints\\nRPCs expose.\"), mdx(\"p\", null, \"Launch a node and run this command to see a full list of your node's RPC APIs:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"curl -H \\\"Content-Type: application/json\\\" -d '{\\\"id\\\":1, \\\"jsonrpc\\\":\\\"2.0\\\", \\\"method\\\": \\\"rpc_methods\\\"}' http://localhost:9933/\\n\")), mdx(\"h3\", {\n    \"id\": \"public-rpcs\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#public-rpcs\",\n    \"aria-label\": \"public rpcs permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Public RPCs\"), mdx(\"p\", null, \"Substrate nodes contain a set of CLI flags that allow you to expose the RPC interfaces publicly, namely:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"--ws-external\\n--rpc-external\\n\")), mdx(\"p\", null, \"Each have additional \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--unsafe-*\"), \" versions. By default the node will refuse to start if you try to expose\\nan RPC interface and run a validator node at the same time. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--unsafe-*\"), \" flags allow to suppress this security measure.\\nExposing RPC interfaces may open up a huge surface of attacks and has to be carefully reviewed. \"), mdx(\"p\", null, \"There are quite a few RPC methods that can be used to control the node's behaviour and should never (or rarely) be exposed:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc/author/trait.AuthorApi.html#tymethod.submit_extrinsic\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"author_submitExtrinsic\")), \" - allows submitting transactions to local pool.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc_api/author/trait.AuthorApi.html#tymethod.insert_key\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"author_insertKey\")), \" - allows inserting private keys to local keystore.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc_api/author/trait.AuthorApi.html#tymethod.rotate_keys\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"author_rotateKeys\")), \" - session keys rotation.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc_api/author/trait.AuthorApi.html#tymethod.remove_extrinsic\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"author_removeExtrinsic\")), \" - remove and ban extrinsic from the pool.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc_api/system/trait.SystemApi.html#tymethod.system_add_reserved_peer\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"system_addReservedPeer\")), \" - add reserved node.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc_api/system/trait.SystemApi.html#tymethod.system_remove_reserved_peer\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"system_removeReservedPeer\")), \" - removed reserved node.\")), mdx(\"p\", null, \"Other RPCs are not so much dangerous but can take a long time to execute, potentially blocking the client from syncing. These include:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc_api/state/trait.StateApi.html#tymethod.storage_keys_paged\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"storage_keys_paged\")), \" - get all the keys in the state with a particular prefix and pagination support.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/rustdocs/latest/sc_rpc_api/state/trait.StateApi.html#tymethod.storage_pairs\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"state_getPairs\")), \" - get all the keys in the state with a particular prefix together with their values.\")), mdx(Message, {\n    type: \"gray\",\n    title: \"Note\",\n    text: \"\\nThese RPCs are declared by using the `#[rpc(name = \\\"rpc_method\\\")]` macro, where \\\"`rpc_method`\\\" would be the name of the function &mdash; `author_submitExtrinsic` for example, \\ncorresponding to [`submit_extrinsic`](/rustdocs/latest/sc_rpc/author/trait.AuthorApi.html#tymethod.submit_extrinsic).\",\n    mdxType: \"Message\"\n  }), mdx(\"p\", null, \"It's critical to filter out these kind of calls if the requests are coming from untrusted users.\\nThe way to do it is through a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v3/getting-started/glossary#json-rpc\"\n  }, \"JSON-RPC\"), \" proxy that is\\nable to inspect calls and only pass allowed-set of APIs.\"), mdx(\"h2\", {\n    \"id\": \"rpcs-for-remote_externalities\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#rpcs-for-remote_externalities\",\n    \"aria-label\": \"rpcs for remote_externalities permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"RPCs for \", mdx(\"inlineCode\", {\n    parentName: \"h2\"\n  }, \"remote_externalities\")), mdx(\"p\", null, \"There exists a special type of using RPCs in the context of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"remote_externalities\"), \".\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/rustdocs/latest/remote_externalities/rpc_api/index.html\"\n  }, \"This \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"rpc_api\")), \" allows you to make\\none-off RPC calls to a Substrate node, useful for testing purposes with tools like\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v3/tools/try-runtime\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"try-runtime\")), \" for example.\"), mdx(\"h2\", {\n    \"id\": \"endpoints\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#endpoints\",\n    \"aria-label\": \"endpoints permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Endpoints\"), mdx(\"p\", null, \"When starting any Substrate node, these two endpoints are made available to you:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"HTTP Endpoint: http://localhost:9933/\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Websocket Endpoint: ws://localhost:9944/\")), mdx(\"p\", null, \"Most of the Substrate front-end libraries and tools use the more powerful WebSocket endpoint to\\ninteract with the blockchain. Through WebSockets, you can subscribe to the chain states, such as\\nevents, and receive push notifications whenever changes in your blockchain occur.\"), mdx(\"p\", null, \"To call the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Metadata\"), \" endpoint, run this command alongside a running node:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"curl -H \\\"Content-Type: application/json\\\" -d '{\\\"id\\\":1, \\\"jsonrpc\\\":\\\"2.0\\\", \\\"method\\\": \\\"state_getMetadata\\\"}' http://localhost:9933/\\n\")), mdx(\"p\", null, \"The return value of this command is not in human readable format. For that, it needs to use the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v3/advanced/scale-codec\"\n  }, \"SCALE codec\"), \" encoding scheme.\"), mdx(\"p\", null, \"Each storage item has a relative storage key associated to it which is used to\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v3/advanced/storage#querying-storage\"\n  }, \"query storage\"), \". This is how RPC endpoints know where to look.\"), mdx(\"h2\", {\n    \"id\": \"examples\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#examples\",\n    \"aria-label\": \"examples permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Examples\"), mdx(\"h3\", {\n    \"id\": \"state_getmetadata\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#state_getmetadata\",\n    \"aria-label\": \"state_getmetadata permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"state_getMetadata\")), mdx(\"p\", null, \"RPC request:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"function get_metadata_request(endpoint) {\\n  let request = new Request(endpoint, {\\n    method: \\\"POST\\\",\\n    body: JSON.stringify({\\n      id: 1,\\n      jsonrpc: \\\"2.0\\\",\\n      method: \\\"state_getMetadata\\\"\\n    }),\\n    headers: { \\\"Content-Type\\\": \\\"application/json\\\" }\\n  });\\n  return request;\\n}\\n\")), mdx(\"p\", null, \"Naive text decoding:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"function decode_metadata(metadata) {\\n  return new TextDecoder().decode(util.hexToU8a(metadata));\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"state_getstorage\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#state_getstorage\",\n    \"aria-label\": \"state_getstorage permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"state_getStorage\")), mdx(\"p\", null, \"RPC request:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"Request:   {\\\"id\\\":1,\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"state_getStorage\\\",[\\\"{storage_key}\\\"]}\\n\")), mdx(\"p\", null, \"Where \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"storage_key\"), \" is a parameter generated by the name of a pallet, function and key (optionally):\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"function get_runtime_storage_parameter_with_key(\\n  module_name,\\n  function_name,\\n  key\\n) {\\n  // We use xxhash 128 for strings the runtime developer can control\\n  let module_hash = util_crypto.xxhashAsU8a(module_name, 128);\\n  let function_hash = util_crypto.xxhashAsU8a(function_name, 128);\\n\\n  // We use blake2 256 for strings the end user can control\\n  let key_hash = util_crypto.blake2AsU8a(keyToBytes(key));\\n\\n  // Special syntax to concatenate Uint8Array\\n  let final_key = new Uint8Array([\\n    ...module_hash,\\n    ...function_hash,\\n    ...key_hash,\\n  ]);\\n\\n  // Return a hex string\\n  return util.u8aToHex(final_key);\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"further-learning\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#further-learning\",\n    \"aria-label\": \"further learning permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"className\": \"fill-current text-substrateDark dark:text-white\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Further learning\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/paritytech/jsonrpc\"\n  }, \"Rust implementation of JSON-RPC\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/v3/advanced/scale-codec\"\n  }, \"SCALE codec\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/v3/advanced/storage\"\n  }, \"Substrate Storage\"))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#the-rpc-extensions-builder","title":"The RPC extensions builder"},{"url":"#rpc-types","title":"RPC types","items":[{"url":"#public-rpcs","title":"Public RPCs"}]},{"url":"#rpcs-for-remote_externalities","title":"RPCs for remote_externalities"},{"url":"#endpoints","title":"Endpoints"},{"url":"#examples","title":"Examples","items":[{"url":"#state_getmetadata","title":"state_getMetadata"},{"url":"#state_getstorage","title":"state_getStorage"}]},{"url":"#further-learning","title":"Further learning"}]},"fileAbsolutePath":"/Users/a212/Desktop/substrate-docs/v3/docs/03-runtime/o-custom-rpcs/index.mdx"}},"pageContext":{"slug":"/v3/runtime/custom-rpcs","version":"3.0","locale":"en","hrefLang":"en-US","originalPath":"/v3/runtime/custom-rpcs/","dateFormat":"MM/DD/YYYY"}},
    "staticQueryHashes": ["1239077767","1821483254","2966362950","3280999885"]}